"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function convertHTML(convertText){var markupText=convertText.replace(/<p>/g,"").replace(/<\/p>/g,"\n").replace(/<strong>/g,"[b]").replace(/<\/strong>/g,"[/b]").replace(/<h1>/g,"[h1]").replace(/<\/h1>/g,"[/h1]\n").replace(/<em>/g,"[i]").replace(/<\/em>/g,"[/i]").replace(/<u>/g,"[u]").replace(/<\/u>/g,"[/u]").replace(/<ol>/g,"[olist]\n").replace(/<\/ol>/g,"[/olist]\n").replace(/<ul>/g,"[list]\n").replace(/<\/ul>/g,"[/list]\n").replace(/<li>/g,"[*]").replace(/<\/li>/g,"\n").replace(/<br>/g,"\n").replace(/<a href="/g,"[url=").replace(/" target="_blank">/g,"]").replace(/<\/a>/g,"[/url]").replace(/<s>/g,"[strike]").replace(/<\/s>/g,"[/strike]").replace(/<blockquote>/g,"[quote=author]").replace(/<\/blockquote>/g,"[/quote]\n").replace(/<span class="spoiler">/g,"[spoiler]").replace(/<\/span>/g,"[/spoiler]").replace(/<pre spellcheck="false">/g,"[code]").replace(/<\/pre>/g,"[/code]\n").replace(/<code>/g,"[noparse]").replace(/<\/code>/g,"[/noparse]");$("#markup").html(markupText),$("#preview").html(convertText)}function CopyToClipboard(containerid){var t=document.createElement("textarea");t.id="t",t.style.height=0,document.body.appendChild(t),t.value=document.getElementById(containerid).innerText,document.querySelector("#t").select(),document.execCommand("copy"),document.body.removeChild(t),alert("Markup copied to clipboard!")}function pushFooter(){var docHeight=$(window).height(),footerHeight=$("#footer").height(),footerTop=$("#footer").position().top+footerHeight;footerTop<docHeight&&$("#footer").css("margin-top",docHeight-footerTop+10+"px")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);return null===parent?undefined:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return getter===undefined?undefined:getter.call(receiver)},Embed=Quill["import"]("blots/embed"),Spoiler=function(_Embed){function Spoiler(){return _classCallCheck(this,Spoiler),_possibleConstructorReturn(this,(Spoiler.__proto__||Object.getPrototypeOf(Spoiler)).apply(this,arguments))}return _inherits(Spoiler,_Embed),_createClass(Spoiler,null,[{key:"create",value:function(value){var node=_get(Spoiler.__proto__||Object.getPrototypeOf(Spoiler),"create",this).call(this,value);return node.innerHTML=value,node}}]),Spoiler}(Embed);Spoiler.blotName="span",Spoiler.className="spoiler",Spoiler.tagName="span";var steamSpoiler=function(){var customSpan=document.createElement("span"),range=quill.getSelection();range&&quill.insertEmbed(range.index,"span",customSpan)};Quill.register({"formats/spoiler":Spoiler});var Delta=Quill["import"]("delta"),quill=new Quill("#editor",{modules:{toolbar:{container:"#toolbar",handlers:{spoiler:steamSpoiler}}},placeholder:"Write your review here!",theme:"snow"}),text=quill.container.firstChild.innerHTML;$('[data-toggle="tooltip"]').tooltip();var change=new Delta;quill.on("selection-change",function(range){text=quill.container.firstChild.innerHTML,convertHTML(text),range?$("#editorWindow").addClass("active"):$("#editorWindow").removeClass("active")}),quill.on("text-change",function(delta){text=quill.container.firstChild.innerHTML,convertHTML(text),change=change.compose(delta)}),$("#previewCollapse").on("show.bs.collapse",function(){quill.blur(),console.log(text),document.getElementById("showBtn").innerHTML="Hide Preview"}),$("#previewCollapse").on("hide.bs.collapse",function(){document.getElementById("showBtn").innerHTML="Show Preview",quill.focus()}),$("#closeBtn").click(function(){$("#help").fadeOut(1e3,function(){pushFooter()})}),setInterval(function(){change.length()>0&&(console.log("Saving changes",change),change=new Delta)},5e3),window.onbeforeunload=function(){if(change.length()>0)return"There are unsaved changes. Are you sure you want to leave?"},$(document).ready(function(){pushFooter();var fade=$(".fade");fade.css({opacity:"0"}),fade.fadeTo(500,1,"swing");const a=new Date();const b=a.getDate();const c=a.toLocaleString('en-us',{month:'long'});$('.current-date').html(`${b} ${c}`);});